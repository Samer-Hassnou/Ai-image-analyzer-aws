# **محلل الصور بالذكاء الاصطناعي (AI Image Analyzer)**

تطبيق **AI Image Analyzer** هو حل متكامل لتحليل الصور يعتمد بشكل كامل على البنية التحتية السحابية الخالية من الخوادم (Serverless) على **AWS**. يتيح هذا التطبيق للمستخدمين تحميل الصور عبر واجهة ويب، ليقوم النظام الخلفي (backend) باستخدام خدمة **Amazon Rekognition** لاستخراج التسميات التوضيحية (Labels) من الصورة.

-----

## **الميزات الرئيسية**

  * **بنية خلفية خالية من الخوادم (Serverless):** تم بناء النظام الخلفي بالكامل باستخدام خدمات AWS مثل **AWS Lambda**، **API Gateway**، **S3**، و**DynamoDB**، مما يضمن قابلية عالية للتوسع وفعالية في التكلفة.
  * **تحليل مدعوم بالذكاء الاصطناعي:** يعتمد النظام على خدمة **Amazon Rekognition**، وهي خدمة رؤية حاسوبية قوية، لتقديم تحليل دقيق للصور.
  * **نظام حصص الاستخدام (Usage Quota):** يتضمن التطبيق حدًا يوميًا لعدد عمليات التحليل، بواقع 3 تحليلات لكل مستخدم، حيث يتم تتبع وإدارة هذه الحصة باستخدام قاعدة بيانات **DynamoDB**.
  * **واجهة مستخدم متعددة اللغات:** تدعم واجهة المستخدم اللغات الإنجليزية، الألمانية، والعربية لضمان تجربة مستخدم عالمية.
  * **تحسينات على جانب العميل:** يتم ضغط الصور على جانب العميل (client-side) قبل تحميلها لتقليل وقت التحميل واستهلاك البيانات.
  * **معالجة محسّنة للتسميات:** تقوم الواجهة الأمامية (frontend) بترجمة التسميات المستخرجة باستخدام **Wikidata** ودمج المفاهيم المتشابهة لتقديم نتائج أكثر وضوحًا وفائدة.
  * **البنية التحتية كتعليمات برمجية (IaC):** يتم تعريف ونشر كامل البنية التحتية لـ AWS تلقائيًا باستخدام أداة **Terraform**، مما يضمن اتساقًا وسهولة في النشر.

-----

## **هندسة النظام (Architecture)**

يعمل النظام وفقًا للخطوات التالية:

1.  يقوم المستخدم باختيار صورة من خلال واجهة الويب (analyzer.html).
2.  يرسل المتصفح الصورة إلى نقطة نهاية **API Gateway**.
3.  يُشغّل **API Gateway** دالة **AWS Lambda**.
4.  تتحقق دالة **Lambda** من حصة الاستخدام اليومية للمستخدم في جدول **DynamoDB**.
5.  إذا كانت الحصة متاحة، تستخدم الدالة **Amazon Rekognition** لتحليل الصورة.
6.  تُعاد نتائج التحليل إلى المتصفح وتُعرض للمستخدم.

-----

## **دليل النشر (Deployment Guide)**

### **المتطلبات الأساسية (Prerequisites)**

  * حساب AWS نشط.
  * أداة Terraform (الإصدار 1.4.0 أو أعلى) مثبتة.
  * أداة AWS CLI مثبتة ومُهيأة ببيانات الاعتماد الخاصة بك.

### **خطوات النشر (Steps)**

#### **1. إعداد دالة Lambda**

المنطق الخلفي لدالة Lambda (مثل في ملف `app.py`) غير مدرج في هذا المشروع. يجب عليك كتابته بنفسك. يجب تسمية الـ handler الخاص بالدالة بـ `app.lambda_handler`. ستحتاج الدالة إلى قراءة متغيرات البيئة مثل `QUOTA_TABLE` و`QUOTA_LIMIT`. بمجرد أن يكون كود Python جاهزًا، أنشئ أرشيف ZIP باسم `lambda.zip` يحتوي على السكريبت وأي مكتبات تابعة.

#### **2. نشر بنية AWS التحتية**

ضع ملف `lambda.zip` في نفس الدليل الذي يوجد فيه ملف `main.tf`. افتح الطرفية (terminal) وقم بتشغيل الأوامر التالية:

```sh
terraform init
terraform apply
```

أكد النشر بكتابة `yes`. بعد اكتمال النشر، ستعرض Terraform عنوان URL الخاص بـ **API Gateway**. انسخ هذا الرابط.

#### **3. تهيئة الواجهة الأمامية (Frontend)**

افتح ملف `analyzer.html`. ابحث عن السطر التالي:

```javascript
const API_ENDPOINT = 'https:// Chang it to your/analyze';
```

استبدل عنوان URL في هذا السطر بعنوان **API Gateway** الذي نسخته من مخرجات Terraform.

#### **4. استضافة الواجهة الأمامية**

ملف `analyzer.html` هو صفحة ثابتة. يمكنك استضافتها في أي مكان، مثل **AWS S3** (مع تمكين استضافة المواقع الثابتة)، **AWS Amplify**، أو أي خدمة استضافة ويب أخرى. بمجرد استضافتها، يمكنك استخدام الرابط للوصول إلى التطبيق..

